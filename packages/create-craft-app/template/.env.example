# ============================================
# CraftJS - Environment Configuration
# ============================================
# Copy this file to .env and fill in your values
# Only DATABASE_URL and BETTER_AUTH_* are required!
#
# Quick Start:
#   1. cp .env.example .env
#   2. docker compose up
#   3. pnpm db:push
#   4. pnpm dev

# ============================================
# REQUIRED - These must be set
# ============================================

# Database - PostgreSQL connection string
# For Docker (default): postgresql://craft:craft@localhost:5432/craft
# For cloud providers: Use their connection string
DATABASE_URL="postgresql://craft:craft@localhost:5432/craft"

# Auth - Better Auth configuration  
# IMPORTANT: Generate a real secret for production!
# Run: openssl rand -base64 32
BETTER_AUTH_SECRET="change-me-to-a-32-character-secret-in-production"
BETTER_AUTH_URL="http://localhost:3000"
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# ============================================
# OPTIONAL - Add when you need them
# ============================================

# AI Providers - Add API keys to enable AI features
# At least one is needed for AI chat to work
OPENAI_API_KEY=""
ANTHROPIC_API_KEY=""
GOOGLE_GENERATIVE_AI_API_KEY=""

# Local AI with Ollama - For fully offline AI (no API keys needed!)
# Uncomment ollama service in docker-compose.yml, then:
# docker exec craftjs-ollama ollama pull codellama:7b
# OLLAMA_BASE_URL="http://localhost:11434"

# OAuth Providers - For social login (email/password works without these)
GITHUB_CLIENT_ID=""
GITHUB_CLIENT_SECRET=""
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# Storage - S3-compatible (use MinIO for self-hosted)
# Uncomment minio service in docker-compose.yml
# S3_ENDPOINT="http://localhost:9000"
# S3_ACCESS_KEY_ID="minioadmin"
# S3_SECRET_ACCESS_KEY="minioadmin"
# S3_BUCKET_NAME="craftjs"
# S3_REGION="us-east-1"

# Legacy Cloudflare R2 support
R2_ACCOUNT_ID=""
R2_ACCESS_KEY_ID=""
R2_SECRET_ACCESS_KEY=""
R2_BUCKET_NAME=""

# Redis - For caching and rate limiting
# Uncomment redis service in docker-compose.yml
# REDIS_URL="redis://localhost:6379"

# Legacy Upstash Redis support
UPSTASH_REDIS_REST_URL=""
UPSTASH_REDIS_REST_TOKEN=""

# Email - SMTP for self-hosted
# Uncomment mailhog service in docker-compose.yml for dev
# SMTP_HOST="localhost"
# SMTP_PORT="1025"
# SMTP_USER=""
# SMTP_PASS=""
# EMAIL_FROM="noreply@localhost"

# Resend (cloud email service)
RESEND_API_KEY=""

# Payments
DODO_API_KEY=""
DODO_WEBHOOK_SECRET=""

# Background Jobs
TRIGGER_SECRET_KEY=""

# Analytics
NEXT_PUBLIC_POSTHOG_KEY=""
NEXT_PUBLIC_POSTHOG_HOST="https://us.i.posthog.com"

